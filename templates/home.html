{% extends 'sidebar.html' %}
{% block head %}
	<!--Import Google Icon Font-->
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
	<!--Import materialize.css-->
	{% load static %}
{#	<link type="text/css" rel="stylesheet" href='{% static "css/materialize.min.css" %}' media="screen,projection"/>#}
	<style>
		.exams {
			width: 600px;
			margin:auto;
			display: none;
		}
		.exam * {
			font-family: Montserrat !important;
		}
		.subject {
			font-family: "Montserrat SemiBold" !important;
			font-size: 2.5rem;
		}
		.paper {
			font-size: 2rem;
		}
		.exam,
		.fixed-action-btn a{
			-webkit-box-shadow: 0px 5px 25px 0px rgba(0,0,0,0.75);
			-moz-box-shadow: 0px 5px 25px 0px rgba(0,0,0,0.75);
			box-shadow: 0px 5px 25px 0px rgba(0,0,0,0.75);
		}
		.exam {
			display: inline-flex;
			width: 100%;
			margin: 10px;
		}
		.exam > :first-child {
			width: 70%;
			margin: 5px;
		}
		.exam > :last-child {

			width: 30%;
			background: rgba(0,0,0,0.4);
			padding-top: 5px;
			padding-bottom: 5px;
			text-align: center;
		}
		.relative {
			font-size: 1.2rem;
		}
		.relative span {
			font-size: 2rem;
		}
		.hover {
			position: absolute;
			background: #000000;
			padding: 5px;
			display:none;
		}

		.hover:after {
			right: 100%;
			top: 50%;
			content: " ";
			height: 0;
			width: 0;
			position: absolute;
			pointer-events: none;
			border: 7px solid rgba(0, 0, 0, 0);
			border-right-color: #000000;
			margin-top: -7px;
		}

		#statButtons {
			width: fit-content;
			margin: auto;
		}

		.statButton {
			width: 120px;
		}

		.visible {
			display: initial;
		}

		::-webkit-scrollbar {
		    width: 12px;
		    background-color: #232328;
		}

		::-webkit-scrollbar-thumb {
		    min-height: 28px !important;
	        background: rgb(179, 179, 179) !important;
		}
		::-webkit-scrollbar-track {
		    background-color: #232328;
		}
		::-webkit-scrollbar-corner {
			background: rgb(237, 237, 237) !important;
		}
		html {
			overflow-y: scroll;
		}
	</style>
	<script>
	$(function() {

		$(".exam > .date-info").hover(function() {
		    $(".hover", $(this).parents(".exam")).css({"display":"block"});

		},function() {
		    $(".hover", $(this).parents(".exam")).css({"display":"none"});
		});
	});

	function runClick(id, other) {
			document.getElementById(id).classList.add("visible");
			document.getElementById(id + "Button").classList.add("visibleButton");
			$("#" + id + "Button").prop('disabled', true);
			document.getElementById(other).classList.remove("visible");
			document.getElementById(other + "Button").classList.remove("visibleButton");
			$("#" + other + "Button").prop('disabled', false);
	}
	</script>
{% endblock %}
{% block body %}
<div id="statButtons">
	<button id="pendingButton" onclick="runClick('pending','done')" disabled class="statButton visibleButton btn">Upcoming</button>
	<button id="doneButton" onclick="runClick('done','pending')" class="statButton btn">Done</button>
</div>
<div style="position: relative; margin:auto; width:600px;">
	<div id="pending" class="exams visible" style="position:absolute">
	{% for data in pending %}
		{% with data.0 as exam %}
			<div id="exam-{{ exam.id }}" class="exam" style="position: relative; background: #{{ exam.subject.colour }}">
				<div>
					<div class="subject">{{ exam.subject.verbose_name }}</div>
					<div class="paper">{{ exam.paper }}</div>
				</div>
				<div class="hover" style="right:-132px; top:calc(111px / 2 - 20px);">
					{{ data.3 }}
				</div>
				<div class="date-info">
					<div class="relative">{{ data.2|safe }}</div>

					<div class="date">{{ data.1 }}</div>
				</div>
			</div>
		{% endwith %}
	{% endfor %}
</div>
	<div id="done" class="exams" style="position:absolute">
	{% for data in done %}
		{% with data.0 as exam %}
			<div class="exam" style="position: relative; background: #{{ exam.subject.colour }}">
				<div>
					<div class="subject">{{ exam.subject.verbose_name }}</div>
					<div class="paper">{{ exam.paper }}</div>
				</div>
				<div class="hover" style="right:-132px; top:calc(111px / 2 - 20px);">
					{{ data.3 }}
				</div>
				<div class="date-info">
					<div class="relative">{{ data.2|safe }}</div>

					<div class="date">{{ data.1 }}</div>
				</div>
			</div>
		{% endwith %}
	{% endfor %}
</div>
</div>
{#<div class="fixed-action-btn">#}
{#  <a class="btn-floating btn-large" style="background-color: var(--highlight);" href="/add/">#}
{#    <i class="large material-icons" unselectable="on" style="font-family: 'Material Icons';font-size: 40px;">+</i>#}
{#  </a>#}
{#</div>#}
{% endblock %}
{% block selector %}'.exam'{% endblock %}
{% block nullSelector %}'0'{% endblock %}